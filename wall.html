<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Hoccer Webapp</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Robert Palmer">
	<!-- Date: 2010-12-15 -->
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
	
	<script src="lib/linccer/lib/jquery-1.4.4.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/linccer/lib/base.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/linccer/lib/linccer.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/linccer/lib/filecache.js" type="text/javascript" charset="utf-8"></script>

	<script src="webclient.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" charset="utf-8">	
		$(document).ready(function() {
			var LOCATION_ERROR = 'Could not locate you. Please set your location manually.';
			var TIMEOUT_ERROR = 'No transfer partner found';
			
			var fileCache = FileCache( {'api_key': 'b3b03410159c012e7b5a00163e001ab0' });			
			var linccer = Linccer( {'api_key' : 'b3b03410159c012e7b5a00163e001ab0'});
			linccer.receive( 'one-to-many', { 'waiting': 'true' } );
			
			fileCache.on('started', function(url) {
				console.log('started:' + url);
			});
			
			fileCache.on('progress', function(progress) {
				// console.log(progress);
			});

			fileCache.on('uploaded', function(uri) {
		    console.log("uploaded: " + uri);
			});
			
			linccer.on('ready', function() {
				console.log("ready")
			})
			
			linccer.on('updated_environment', function(data) {
				console.log('updated environment');
			});
			
			linccer.on('received', function(data) {
				console.log(data);
				
				var firstContent = data[0]['data'][0];
				
				if (firstContent.type == "text/plain") {
					showText(firstContent.content);
				}
			});
		
			linccer.on('error', function(error) {
				console.log(error);
				
				if (error.code == 3) {
					console.log('position error');

				} else {
					console.log('timeout, or so');
				}
			});
		});

	</script>
	
	<style type="text/css" media="screen">
		body { background-color: black;}
	</style>
	<body>
		
	</body>

</html>
